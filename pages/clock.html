<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <title>时间大厅</title>
    <script src="../static/js/include.js"></script>
    <script src="../static/js/jquery-3.7.1.js"></script>
    <script src="../static/js/progress.js"></script>
    <script src="../static/js/loader.js"></script>
    <script type="text/javascript">
        (function show() {
            //1.设置目的时间
            var oYear = 2024
            var oMonth = 1
            var oDay = 9
            var oHour = 0
            var oMinute = 0
            var oSecond = 0
            var funtureDate = new Date(oYear, oMonth, oDay, oHour, oMinute, oSecond);
            // console.log(dateFormat(funtureDate))
            //2.设置定时器
            setInterval(function () {
                //3.获取现在的时间
                var presentDate = new Date();
                //4.获取时间戳
                var funtureTime = funtureDate.getTime();
                var presenTime = presentDate.getTime();
                //5.获取剩余的时间戳
                var allTime = funtureTime - presenTime;
                //6.把毫秒转换为秒
                var allSecond = parseInt(allTime / 1000);
                //7.获取剩余多少天
                var day = size(parseInt(allSecond / 3600 / 24));
                //8.获取剩余多少小时
                var hour = size(parseInt(allSecond / 3600 % 24));
                //9.获取剩余多少分钟
                var minute = size(parseInt(allSecond / 60 % 60));
                //10.获取剩余多少秒
                var second = size(parseInt(allSecond % 60));
                //11.注入：
                document.getElementById('one').innerHTML = day;
                document.getElementById('two').innerHTML = hour;
                document.getElementById('three').innerHTML = minute;
                document.getElementById('four').innerHTML = second;
            }, 1000);
            //如果数>=10,则在前面补0
            function size(num) {
                return num < 10 & num >= 0 ? '0' + num : num;
            }
        })()
        //格式化日期格式 2
        function dateFormat(data) {
            var date = new Date(data);
            var YY = date.getFullYear() + '-';
            var MM = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-';
            var DD = (date.getDate() < 10 ? '0' + (date.getDate()) : date.getDate());
            return YY + MM + DD;
        }
        function time() {
            var vWeek, vWeek_s, vDay;
            vWeek = ["Sun. 日", "Mon. 一", "Tue. 二", "Wed. 三", "Thu. 四", "Fri. 五", "Sat. 六"];
            var date = new Date();
            year = date.getFullYear();
            month = date.getMonth() + 1;
            day = date.getDate();
            hours = date.getHours();
            minutes = date.getMinutes();
            seconds = date.getSeconds();
            vWeek_s = date.getDay();
            document.getElementById("time").innerHTML = year + "/" + month + "/" + day + "" + "\t" + hours + ":" + minutes + ":" + seconds + "\t" + vWeek[vWeek_s];

        };
        setInterval("time()", 1000);
    </script>
    <link rel="stylesheet" href="../static/css/style.css">
    <link rel="stylesheet" href="../static/fontawesome/css/all.css">
    <link rel="shortcut icon" href="../Aug-18-2023-Favicon.ico" type="image/x-icon">
    <link rel="preconnect" href="https://rsms.me/">
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <style>
        @media (max-width: 425px) {

            #dev-cal-1,
            #update,
            #dev-cal-2 {
                margin-left: 30px !important;
                margin-right: 30px !important;
            }

            #dev-cal-1 {
                font-size: 70px;
                margin-top: 125px;
            }
        }

        @media (prefers-color-scheme: light) {

            #one,
            #two,
            #three,
            #four {
                border-color: black !important;
            }
        }

        @font-face {
            font-family: 'Recursive';
            src: url('../static/fonts/RecursiveMonoLnrSt-Regular.woff2') format('woff2-variations');
            src: url(../static/fonts/RecursiveMonoLnrSt-Bold.woff2) format('woff2-variations');
            font-weight: 300 1000;
        }

        @media (prefers-color-scheme: dark) {

            #clock-clicker,
            #toggleFullscreenBtn {
                background-color: rgba(68, 68, 68, 0.85) !important;
                border: solid 1px #444 !important;
                color: white !important;
            }

            #toggleFullscreenBtn:hover,
            #clock-clicker:hover {
                background-color: rgba(204, 204, 204, 0.75) !important;
            }
        }

        @media (max-width: 768px) {

            #digital-clock-real,
            .clock {
                height: 56.25vw !important;
            }
        }

        .clock-plate {
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        #clock-plate-2 {
            background-color: #222;

        }

        #digital-clock-real {
            width: 100vw;
            height: 100vh;
            background-image: url(../static/img/clock-bg.webp);
            background-position: center;
            background-size: cover;
            background-repeat: no-repeat;
        }

        .clock {
            width: 100vw;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .clock::before {
            content: "";
            position: absolute;
            width: 1.5vw;
            height: 1.5vw;
            background-color: rgb(0, 0, 0);
            border-radius: 50%;
            z-index: 1;
        }

        .hour,
        .min,
        .sec {
            position: absolute;
        }

        .hour,
        .hr {
            width: 15vw;
            height: 15vw;
        }

        .min,
        .mn {
            width: 17.81vw;
            height: 17.81vw;
        }

        .sec,
        .sc {
            width: 21.56vw;
            height: 21.56vw;
        }

        .hr,
        .mn,
        .sc {
            display: flex;
            justify-content: center;
            position: absolute;
        }

        .hr::before {
            content: "";
            position: absolute;
            width: 1.05vw;
            height: 7.5vw;
            background-color: #000000;
            z-index: 2;
        }

        .mn::before {
            content: "";
            position: absolute;
            width: 0.75vw;
            height: 9vw;
            background-color: #000000;
            z-index: 3;
        }

        .sc::before {
            content: "";
            position: absolute;
            width: 0.6vw;
            height: 10.5vw;
            background-color: #000000;
            z-index: 4;
        }

        #digital-clock-big {
            font-family: 'Source Han Sans', 'Recursive', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            color: #fff;
        }

        #datetime {
            font-size: 35px;
        }

        #digital-clock {
            font-size: 12vw;
            font-weight: bold;
            color: #fbcb40;
        }

        #toggleFullscreenBtn {
            position: absolute;
            bottom: 40px;
            right: 10px;
            padding: 8px;
            border-radius: 5px;
            transition: all 0.2s;
            font-family: 'Source Han Sans', 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            font-weight: bold;
            transition: all 0.2s;
            background-color: rgba(238, 238, 238, 0.75);
            border: solid 1px #eee;
            font-size: 14px;
        }

        #clock-clicker {
            position: absolute;
            bottom: 86px;
            right: 10px;
            padding: 8px;
            border-radius: 5px;
            transition: all 0.2s;
            font-family: 'Source Han Sans', 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.2s;
            background-color: rgba(238, 238, 238, 0.75);
            border: solid 1px #eee;
        }

        #toggleFullscreenBtn:hover,
        #clock-clicker:hover {
            background-color: rgba(204, 204, 204, 0.75);
        }
    </style>
</head>

<body>
    <include src="../layout/layout.html"></include>
    <div class="loader-wrapper">
        <i class="fa-solid fa-spinner fa-spin"></i>&emsp;<span id="loader-prompt">Preparing elements.</span>
    </div>

    <div class="clock-plate" id="clock-plate-1">
        <div id="digital-clock-real">
            <div class="clock">
                <div class="hour">
                    <div class="hr" id="hr"></div>
                </div>
                <div class="min">
                    <div class="mn" id="mn"></div>
                </div>
                <div class="sec">
                    <div class="sc" id="sc"></div>
                </div>
            </div>
        </div>
        <a href="#clock-plate-2">
            <div id="clock-clicker">
                <i class="fas fa-arrow-down"></i>&emsp;切换到数字时钟 Digital
            </div>
        </a>
    </div>

    <div class="clock-plate" id="clock-plate-2">
        <div id="digital-clock-big">
            <span id="datetime"></span>
            <div id="digital-clock"></div>
        </div>
        <a href="#clock-plate-1">
            <div id="clock-clicker">
                <i class="fas fa-arrow-up"></i>&emsp;切换到模拟时钟 Analog
            </div>
        </a>
    </div>

    <button id="toggleFullscreenBtn">
        <i class="fa-solid fa-expand"></i>&emsp;全屏 Go Fullscreen
    </button>

    <nav class="crumbs">
        <ol>
            <li class="crumb"><a href="../index.html"><i class="fas fa-house"></i>&emsp13;主页</a></li>
            <li class="crumb"><a href="#">时间大厅</a></li>
        </ol>
    </nav>

    <include src="../layout/footer.html"></include>

    <script>
        var dt = new Date();
        document.getElementById("datetime").innerHTML = (("0" + (dt.getMonth() + 1)).slice(-2)) + "/" + (("0" + dt.getDate()).slice(-2)) + "/" + (dt.getFullYear()) + " ";
        function Time() {
            // Creating object of the Date class
            var date = new Date();
            // Get current hour
            var hour = date.getHours();
            // Get current minute
            var minute = date.getMinutes();
            // Get current second
            var second = date.getSeconds();
            // Variable to store AM / PM
            var period = "";
            // Assigning AM / PM according to the current hour
            if (hour >= 12) {
                period = "PM";
            } else {
                period = "AM";
            }
            // Converting the hour in 12-hour format
            if (hour == 0) {
                hour = 12;
            } else {
                if (hour > 12) {
                    hour = hour - 12;
                }
            }
            // Updating hour, minute, and second
            // if they are less than 10
            hour = update(hour);
            minute = update(minute);
            second = update(second);
            // Adding time elements to the div
            document.getElementById("digital-clock").innerText = hour + ":" + minute + ":" + second + " " + period;
            // Set Timer to 1 sec (1000 ms)
            setTimeout(Time, 1000);
        }
        // Function to update time elements if they are less than 10
        // Append 0 before time elements if they are less than 10
        function update(t) {
            if (t < 10) {
                return "0" + t;
            }
            else {
                return t;
            }
        }
        Time();

        // Function to toggle fullscreen mode
        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch(err => {
                    alert(`Error attempting to enable fullscreen mode: ${err.message}`);
                });
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                }
            }
        }

        // Get the button element
        var toggleFullscreenBtn = document.getElementById('toggleFullscreenBtn');

        // Add click event listener to the button
        toggleFullscreenBtn.addEventListener('click', toggleFullscreen);

        var fullscreenElement = document.getElementById("digital-clock-big");

        // Function to modify style in fullscreen
        function modifyStyleInFullscreen() {
            // Add any style modifications here
            fullscreenElement.style.scale = "150%";
        }

        // Add event listener for fullscreen change
        document.addEventListener("fullscreenchange", function () {
            if (document.fullscreenElement) {
                // Element is now in fullscreen mode
                modifyStyleInFullscreen();
            } else {
                // Element exited fullscreen mode
                // Reset style modifications if needed
                fullscreenElement.style.scale = "100%";
            }
        });
    </script>
    <script src="../static/js/clock-script.js"></script>
</body>

</html>